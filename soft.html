<!DOCTYPE html>
<html lang="en">

<head>
    <title>Lọc danh sách</title>
    <meta charset='utf-8'>
    <link rel="icon" href="./favicon.ico" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, shrink-to-fit=no">
    <meta name="description" content="Lọc danh sách">
    <meta itemprop="name" content="Lọc danh sách | qminh.xyz">
    <meta itemprop="description" content="Lọc danh sách">
    <meta name="theme-color" content="#ffffff">
    <!-- OpenGraph -->
    <meta property="og:site_name" content="Lọc danh sách | qminh.xyz">
    <meta property="og:url" content="https://qminh.xyz/soft">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Lọc danh sách | qminh.xyz">
    <meta property="og:description" content="Lọc danh sách">
</head>

<body>
    <div>
        <div class="container">
            <div class="row">
                <div class="col-sm-3">
                    <a>
                        <h3>Lọc danh sách</h3>
                    </a>
                </div>
                <!-- <div id="updatingIn">00</div> -->
            </div>
        </div>
        <hr />
        <div class="container">
            <div class="row">
                <textarea id="danhsachdu" placeholder="input1" rows="10" style="width: 400px;"></textarea>
                <b>* Danh sách đủ</b>
            </div>
            <div class="row">
                <div class="text-left"></div>
            </div>
            <div class="row">
                <textarea id="danhsachloc" placeholder="input2" rows="10" style="width: 400px;"></textarea>
                <b>* Danh sách lọc</b>
            </div>
            <div class="row">
                <textarea id="output" placeholder="output" rows="10" style="width: 400px;"></textarea>
                <b>Thiếu</b>
            </div>
            <div id="error"></div>
        </div>
    </div>
    <div>©Minhmoiii - 2022</div>
</body>
<script src="https://code.jquery.com/jquery-3.6.1.slim.min.js"></script>
<script>
    function gettime() {
        var d = new Date();
        d.getHours();
        d.getMinutes();
        d.getSeconds();
        return d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds()
    }

    console.log('Start: ' + gettime())

    function run() {
        if ($('#danhsachloc').val() != '') {
            var input = $('#danhsachdu').val().match(/[^\r\n]+/g)
            var output = []
            input.forEach(function (cc) {
                output.push(check(cc))
            });
            let text = output.join("");
            $('#output').val(text);
        } else {
            $('#danhsachloc').val('')
        }
    }

    function check(check) {
        var input1 = check.toLowerCase()
        var input2 = $('#danhsachloc').val().toLowerCase()
        if (input2.indexOf(input1) !== -1) {
            // return check + ' [Có]'
            return ''
        } else {
            return check + ' [Thiếu]\n'
        }
    }

    $('#danhsachdu').val()
    $("textarea").on("keyup", function (e) {
        run()
    })
</script>

</html>